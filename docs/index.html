<!DOCTYPE html>
<html lang="pl" data-bs-theme="light">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="icon" type="image/png" href="./assets/icons/webpageicon.png">

        <title>
            Główna Strona | Chmura Preview
        </title>

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
        <link rel="stylesheet" href="./dist/styles/Main.css">
    </head>

    <body class="app-light-theme">
        <div id="loading">
            <div class="text-center position-absolute top-50 start-50 translate-middle">
                <div class="spinner-border" role="status"></div>
                <p data-localize="LoadingMessage">Wczytywanie...</p>
            </div>
        </div>
        <div class="app-container">
            <nav class="navbar navbar-expand-lg">
                <div class="container-fluid">
                    <h1 class="navbar-brand user-select-none" data-localize="Title">Chmura</h1>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                        data-bs-target="#navbarScroll" aria-controls="navbarScroll" aria-expanded="false"
                        aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarScroll">
                        <ul class="navbar-nav me-auto my-2">
                            <li class="nav-item user-select-none" id="directory" data-directory="/">
                                <span class="navbar-text me-3"><span data-localize="Directory">Katalog</span>:
                                    ./</span>
                            </li>
                            <li class="nav-item">
                                <span id="message" class="me-3 navbar-text fs-6"></span>
                            </li>
                        </ul>
                        <ul class="navbar-nav ms-auto my-2 navbar-nav-scroll" style="--bs-scroll-height: 150px;">
                            <li class="nav-item">
                                <a class="btn btn-outline-secondary user-select-none"
                                    href="https://itsmateo20.gitbook.io/cloud/">Documentaion and
                                    guides</a>
                            </li>
                            <li class="nav-item">
                                <a type="button" class="btn btn-outline-secondary user-select-none disabled"
                                    id="backButton" data-localize="Back">Powrót</a>
                            </li>
                            <li class="nav-item dropdown">
                                <a class="btn btn-outline-danger dropdown-toggle user-select-none" role="button"
                                    data-bs-toggle="dropdown" aria-expanded="false" data-localize="AdminMenuTitle">Menu
                                    Administratora</a>
                                <ul class="dropdown-menu dropdown-menu-end mt-2" aria-labelledby="navbarAdminDropdown">
                                    <li class="dropdown-item user-select-none" data-bs-toggle="offcanvas"
                                        data-bs-target="#offcanvasAdminMenu" aria-controls="offcanvasAdminMenu"
                                        data-localize="AdminMenuTitle">
                                        Menu Administratora
                                    </li>
                                    <li class="dropdown-item user-select-none" data-bs-toggle="offcanvas"
                                        data-bs-target="#offcanvasWhitelistMenu" aria-controls="offcanvasWhitelistMenu"
                                        data-localize="WhitelistMenuTitle">
                                        Menu Białej Listy
                                    </li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a class="btn btn-outline-secondary dropdown-toggle user-select-none" role="button"
                                    data-bs-toggle="dropdown" aria-expanded="false" data-localize="EditFiles">Edytuj
                                    Pliki</a>
                                <ul class="dropdown-menu dropdown-menu-end mt-2" aria-labelledby="navbarDropdownFiles">
                                    <li class="dropdown-item user-select-none disabled" id="uploadFileButton"
                                        data-localize="UploadFiles">
                                        Wgraj Pliki
                                    </li>
                                    <li class="dropdown-item user-select-none disabled" id="renameFileButton"
                                        data-localize="Rename">
                                        Zmień Nazwę
                                    </li>
                                    <li class="dropdown-item user-select-none disabled" id="newFolderButton"
                                        data-localize="NewFolder">
                                        Nowy folder
                                    </li>
                                    <li class="dropdown-item user-select-none disabled" id="deleteButton"
                                        data-localize="Delete">
                                        Usuń
                                    </li>
                                    <li class="dropdown-item user-select-none disabled" id="downloadButton"
                                        data-localize="Download">
                                        Pobierz
                                    </li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <img class="btn btn-outline-secondary dropdown-toggle user-select-none"
                                    id="localButtonImage" src="./assets/icons/pl_PL.png" height="30" role="button"
                                    data-bs-toggle="dropdown" aria-expanded="false"></img>
                                <ul class="dropdown-menu dropdown-menu-end mt-2" aria-labelledby="navbarDropdownLocal">
                                    <li class="dropdown-item user-select-none" id="localButton" data-local="en_UK">
                                        English UK
                                    </li>
                                    <li class="dropdown-item user-select-none" id="localButton" data-local="pl_PL">
                                        Polski
                                    </li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown ms-3">
                                <a class="nav-link dropdown-toggle rounded-circle border-dark"
                                    id="navbarDropdownProfile" role="button" data-bs-toggle="dropdown"
                                    aria-expanded="false"><img alt title src="./assets/icons/profile.png" width="35"
                                        height="35"></a>
                                <ul class="dropdown-menu dropdown-menu-end mt-2"
                                    aria-labelledby="navbarDropdownProfile">
                                    <h6 class="dropdown-header user-select-auto"><span
                                            data-localize="LoggedInAs">Zalogowano
                                            jako</span>
                                        <strong>
                                            youremail@provider.com
                                        </strong>
                                    </h6>
                                    <li class="dropdown-divider"></li>
                                    <li class="dropdown-item user-select-none" id="darkThemeSettingButton"
                                        data-value="true">
                                        <span data-localize="DarkTheme">Ciemny Motyw</span>
                                        <i class="bi"></i>
                                    </li>
                                    <li class="dropdown-item user-select-none" id="showImageSettingButton"
                                        data-value="true">
                                        <span data-localize="ShowThumbnails">Pokaż Miniatury</span>
                                        <i class="bi"></i>
                                    </li>
                                    <li class="dropdown-item user-select-none" data-bs-toggle="offcanvas"
                                        data-bs-target="#offcanvasChangePassMenu"
                                        aria-controls="offcanvasChangePassMenu">
                                        <span data-localize="ChangePassword">Zmień Hasło</span>
                                        <i class="bi bi-key"></i>
                                    </li>
                                    <li class="dropdown-divider"></li>
                                    <li class="dropdown-item user-select-none disabled" id="adminModeSettingButton">
                                        <span data-localize="AdminMode">Tryb Administratora</span>
                                        <i class="bi"></i>
                                    </li>
                                    <li class="dropdown-item text-danger user-select-none"
                                        onclick="windoq.location.href='/Cloud/logout'" data-localize="Logout">
                                        Wyloguj
                                    </li>
                                </ul>
                            </li>
                    </div>
                </div>
            </nav>
            <div class="cloud">
                <div class="cloudBody app-row row-cols-auto" id="root">

                    <div class="col cloudItemContainer user-select-none" data-filetype="folder"
                        data-filename="Family Photos" data-filepath="Family Photos"
                        data-fileredirect="/folder/folder?path=Family Photos">
                        <img src="./assets/icons/folder.png" class="cloudItemContainerImg">
                        <h1>
                            Family Photos
                        </h1>
                    </div>



                    <div class="col cloudItemContainer user-select-none" data-filetype="folder" data-filename="Memes"
                        data-filepath="Memes" data-fileredirect="/folder/folder?path=Memes">
                        <img src="./assets/icons/folder.png" class="cloudItemContainerImg">
                        <h1>
                            Memes
                        </h1>
                    </div>

                    <div class="col cloudItemContainer user-select-none" data-filetype="image"
                        data-filename="image4.jpg" data-filepath="Root/image1.jpg"
                        data-fileredirect="./assets/images/Root/image1.jpg"
                        data-githubimage="./assets/images/Root/image1.jpg" data-fileheight="715" data-filewidth="1276">
                        <img title="" alt="" src="./assets/images/Root/image1.jpg" class="cloudItemContainerLandscape">
                        <h1>
                            image1.jpg
                        </h1>
                    </div>

                </div>

                <div class="cloudBody app-row row-cols-auto d-none" id="Family Photos">

                    <div class="col cloudItemContainer user-select-none" data-filetype="image"
                        data-filename="image4.jpg" data-filepath="Family Photos/image4.jpg"
                        data-fileredirect="./assets/images/Family Photos/image4.jpg"
                        data-githubimage="./assets/images/Family Photos/image4.jpg" data-fileheight="715"
                        data-filewidth="715">
                        <img title="" alt="" src="./assets/images/Family Photos/image4.jpg"
                            class="cloudItemContainerPortrait">
                        <h1>
                            image4.jpg
                        </h1>
                    </div>

                    <div class="col cloudItemContainer user-select-none" data-filetype="image"
                        data-filename="image3.jpg" data-filepath="Family Photos/image3.jpg"
                        data-fileredirect="./assets/images/Family Photos/image3.jpg"
                        data-githubimage="./assets/images/Family Photos/image3.jpg" data-fileheight="715"
                        data-filewidth="1074">
                        <img title="" alt="" src="./assets/images/Family Photos/image3.jpg"
                            class="cloudItemContainerLandscape">
                        <h1>
                            image3.jpg
                        </h1>
                    </div>

                    <div class="col cloudItemContainer user-select-none" data-filetype="image"
                        data-filename="image2.jpg" data-filepath="Family Photos/image2.jpg"
                        data-fileredirect="./assets/images/Family Photos/image2.jpg"
                        data-githubimage="./assets/images/Family Photos/image2.jpg" data-fileheight="715"
                        data-filewidth="1074">
                        <img title="" alt="" src="./assets/images/Family Photos/image2.jpg"
                            class="cloudItemContainerLandscape">
                        <h1>
                            image2.jpg
                        </h1>
                    </div>

                    <div class="col cloudItemContainer user-select-none" data-filetype="image"
                        data-filename="image1.jpeg" data-filepath="Family Photos/image1.jpeg"
                        data-fileredirect="./assets/images/Family Photos/image1.jpeg"
                        data-githubimage="./assets/images/Family Photos/image1.jpeg" data-fileheight="715"
                        data-filewidth="537">
                        <img title="" alt="" src="./assets/images/Family Photos/image1.jpeg"
                            class="cloudItemContainerPortrait">
                        <h1>
                            image1.jpeg
                        </h1>
                    </div>

                </div>

                <div class="cloudBody app-row row-cols-auto d-none" id="Memes">

                    <div class="col cloudItemContainer user-select-none" data-filetype="image"
                        data-filename="image4.jpg" data-filepath="Memes/HTML-and-CSS-Jokes.jpg"
                        data-fileredirect="./assets/images/Memes/HTML-and-CSS-Jokes.jpg"
                        data-githubimage="./assets/images/Memes/HTML-and-CSS-Jokes.jpg" data-fileheight="715"
                        data-filewidth="590">
                        <img title="" alt="" src="./assets/images/Memes/HTML-and-CSS-Jokes.jpg"
                            class="cloudItemContainerPortrait">
                        <h1>
                            HTML-and-CSS-Jokes.jpg
                        </h1>
                    </div>

                </div>


            </div>
        </div>
        <div class="offcanvas offcanvas-start" data-bs-scroll="true" tabindex="-1" id="offcanvasChangePassMenu"
            aria-labelledby="offcanvasChangePassMenuLabel">
            <div class="offcanvas-header">
                <h5 class="offcanvas-title" id="offcanvasChangePassMenuLabel" data-localize="ChangePasswordMenuTitle">
                    Menu
                    Zmiany Hasła</h5>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">
                <div class="form-group mb-2">
                    <label for="oldpassword1" data-localize="OldPassword">Stare Hasło <strong
                            class="text-danger">*</strong></label>
                    <input type="password" autocomplete="current-password" class="form-control" id="oldpassword1"
                        placeholder="Stare Hasło" name="password1" maxlength="40" minlength="5"
                        data-localize-placeholder="OldPassword" required>
                    <div class="invalid-feedback" data-localize="PleaseEnterOldPassword">
                        Prosze wpisać stare hasło!
                    </div>
                </div>
                <div class="form-group mb-2">
                    <label for="oldpassword2" data-localize="RepeatOldPassword">Powtórz stare
                        hasło <strong class="text-danger">*</strong></label>
                    <input type="password" autocomplete="current-password" class="form-control" id="oldpassword2"
                        placeholder="Powtórz stare hasło" name="password2" maxlength="40" minlength="5"
                        data-localize-placeholder="RepeatOldPassword" required>
                    <div class="invalid-feedback" data-localize="PleaseRepeatOldPassword">
                        Prosze powtórzyć stare hasło!
                    </div>
                </div>
                <div class="form-group mb-2">
                    <label for="newpassword" data-localize="NewPassword">Nowe hasło <strong
                            class="text-danger">*</strong></label>
                    <input type="password" autocomplete="new-password" class="form-control" id="newpassword"
                        placeholder="Nowe hasło" name="password3" maxlength="40" minlength="5"
                        data-localize-placeholder="NewPassword" required>
                </div>
                <button type="button" class="btn btn-primary mt-3 disabled" id="changePasswordBtn"
                    data-localize="ChangePassword">Zmień hasło</button>
                </form>

            </div>
        </div>


        <div class="offcanvas offcanvas-start" data-bs-scroll="true" tabindex="-1" id="offcanvasAdminMenu"
            aria-labelledby="offcanvasAdminMenuLabel">
            <div class="offcanvas-header">
                <h5 class="offcanvas-title" id="offcanvasAdminMenuLabel" data-localize="AdminMenuTitle">Menu
                    Administratora</h5>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">

                <div class="input-group mb-3">
                    <input type="email" class="form-control" id="adminInput" data-localize-placeholder="EnterEmail"
                        placeholder="Wpisz maila">
                    <button class="btn btn-outline-secondary disabled" type="button" id="adminButton"
                        data-localize="Add">Dodaj</button>
                </div>

                <table class="table table-borderless">
                    <tbody id="whitelistEmailList">
                        <tr>
                            <td>
                                admin@localhost
                                <br>
                                <button class="btn btn-outline-danger" type="button" onclick="removeadminButton(this)"
                                    data-email="admin@localhost" data-localize="Delete">Usuń</button>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                youremail@provider.com
                                <br>
                                <button class="btn btn-outline-danger" type="button" onclick="removeadminButton(this)"
                                    data-email="youremail@provider.com" data-localize="Delete">Usuń</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="offcanvas offcanvas-start" data-bs-scroll="true" tabindex="-1" id="offcanvasWhitelistMenu"
            aria-labelledby="offcanvasWhitelistMenuLabel">
            <div class="offcanvas-header">
                <h5 class="offcanvas-title" id="offcanvasWhitelistMenuLabel" data-localize="WhitelistMenuTitle">Menu
                    Białej Listy</h5>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">

                <div class="input-group mb-3">
                    <input type="email" class="form-control" id="whitelistInput" data-localize-placeholder="EnterEmail"
                        placeholder="Wpisz maila">
                    <button class="btn btn-outline-secondary disabled" type="button" id="whitelistButton"
                        data-localize="Add">Dodaj</button>
                    <div class="invalid-feedback" data-localize="PleaseEnterEmail">
                        Proszę podać adres e-mail
                    </div>
                </div>

                <table class="table table-borderless">
                    <tbody id="whitelistEmailList">
                        <tr>
                            <td>
                                admin@localhost
                                <br>
                                <button class="btn btn-outline-danger" type="button" onclick="unwhitelistButton(this)"
                                    data-email="admin@localhost" data-localize="Delete">Usuń</button>
                            </td>
                        </tr>

                        <tr>
                            <td>
                                yourotheremail@provider.com
                                <br>
                                <button class="btn btn-outline-danger" type="button" onclick="unwhitelistButton(this)"
                                    data-email="yourotheremail@provider.com" data-localize="Delete">Usuń</button>
                            </td>
                        </tr>

                        <tr>
                            <td>
                                youremail@provider.com
                                <br>
                                <button class="btn btn-outline-danger" type="button" onclick="unwhitelistButton(this)"
                                    data-email="youremail@provider.com" data-localize="Delete">Usuń</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>


    </body>

    <script src="./dist/javascript/Messages.js"></script>
    <script src="./dist/javascript/Cloud.js"></script>
    <script src="./dist/javascript/Admin.js"></script>
    <script src="./dist/javascript/Localization.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>

    <script type="text/javascript">
        function checkRedirect() {
            const emailCookie = document.cookie.split('; ').find(row => row.startsWith('email=')) || '';
            if (!emailCookie && !emailCookie.split('=')[1]) {
                document.cookie = '';
                window.location.href = '/Cloud/login';
            }
        }

        document.addEventListener('DOMContentLoaded', function () {
            checkRedirect();
        });
    </script>


</html>